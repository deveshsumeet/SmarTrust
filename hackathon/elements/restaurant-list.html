<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../restaurant-service/restaurant-service.html">
<link rel="import" href="restaurant-card.html">

<polymer-element name="restaurant-list" attributes="show">
  <template>
        <style>
      :host {
        display: block;
        width: 100%;
      }
      
      img {
        border-radius: 4px;
      }
      .avatarBlock {
        padding: 12px;
      }
      .revBlock{
        background-color: #FFFFFF;
      }

      .rating .stars_0 {
          background-position: -3px -3px
      }

      .rating .stars_1 {
          background-position: -3px -21px
      }

      .rating .stars_2 {
          background-position: -3px -57px
      }
      .rating .stars_3 {
          background-position: -100px -93px
      }

      .rating .stars_4 {
          background-position: -3px -129px
      }

      .rating .stars_5 {
          background-position: -100px -165px
      }
      .item {
        box-sizing: border-box;
        height: 80px;
        border-bottom: 1px solid #ddd;
        padding: 4px;
        cursor: default;
        background-color: white;
        overflow: hidden;
      }
      .box-header {
        background-color: #D7DFEF;
      }
      .box-header h3{
        margin: 10px;
      }
      .revBlock {
        background-color: #ECECF4;
      }
    </style>
    <restaurant-service id="service" restaurants="{{restaurants}}"></restaurant-service>
      <paper-shadow class="card" z="1">
        <div class="box-header" layout vertical center justified>
          <h3 data-anchor-id="core-input.attributes">All Restaurants</h3>
            
          <template repeat="{{restaurant in restaurants}}">
            <restaurant-card>
              <img class="resAvatar" src="{{restaurant.resAvatar}}" width="60" height="60">
              <h5>{{restaurant.name}}
              <br/>
              {{restaurant.rating}} Rating 
              <br/>
              {{restaurant.revCount}} Reviews</h5>
              <p><img src="{{restaurant.avatar}}" width="30" height="30"> {{restaurant.review}}</p>
            </restaurant-card>
          </template>
      </div>
    </paper-shadow>
  </template>

  <script>
  Polymer({
    handleFavorite: function(event, detail, sender) {
      var post = sender.templateInstance.model.post;
      this.$.service.setFavorite(post.uid, post.favorite);
    }
  });
  </script>
</polymer-element>
